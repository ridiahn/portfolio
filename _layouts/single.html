---
layout: default
---

{% if page.header.overlay_color or page.header.overlay_image or page.header.image %}
  {% include page__hero.html %}
{% elsif page.header.video.id and page.header.video.provider %}
  {% include page__hero_video.html %}
{% endif %}

{% if page.url != "/" and site.breadcrumbs %}
  {% unless paginator %}
    {% include breadcrumbs.html %}
  {% endunless %}
{% endif %}

<div id="main" role="main">
  {% include sidebar.html %}

  <section class="page" itemscope itemtype="https://schema.org/CreativeWork">
    {% if page.title %}<meta itemprop="headline" content="{{ page.title | markdownify | strip_html | strip_newlines | escape_once }}">{% endif %}
    {% if page.excerpt %}<meta itemprop="description" content="{{ page.excerpt | markdownify | strip_html | strip_newlines | escape_once }}">{% endif %}
    {% if page.date %}<meta itemprop="datePublished" content="{{ page.date | date_to_xmlschema }}">{% endif %}
    {% if page.last_modified_at %}<meta itemprop="dateModified" content="{{ page.last_modified_at | date_to_xmlschema }}">{% endif %}

      {% unless page.header.overlay_color or page.header.overlay_image %}
        <header>
          {% include page__taxonomy.html %}
          {% if page.title %}<h1 id="page-title" class="page__title" itemprop="headline">{{ page.title | markdownify | remove: "<p>" | remove: "</p>" }}</h1>{% endif %}
          <!-- {% include page__meta.html %} -->
          <div class="work__meta">
            {% include page__workdate.html %}
            {% include page__hadecount.html %}
          </div>
        </header>
      {% endunless %}

      <section class="page__content" itemprop="text">
        {% if page.toc %}
          <aside class="sidebar__right">
            <nav class="toc {% if page.toc_sticky %}sticky{% endif %}">
              <header><h4 class="nav__title"><i class="fas fa-{{ page.toc_icon | default: 'file-alt' }}"></i> {{ page.toc_label | default: site.data.ui-text[site.locale].toc_label | default: "On this page" }}</h4></header>
              {% include toc.html sanitize=true html=content h_min=1 h_max=6 class="toc__menu" skip_no_ids=true %}
            </nav>
          </aside>
        {% endif %}
        <article>
          {{ content }}
        </article>
        {% if page.link %}<div><a href="{{ page.link }}" class="btn btn--primary">{{ site.data.ui-text[site.locale].ext_link_label | default: "Direct Link" }}</a></div>{% endif %}
      </section>

      <footer class="page__meta">
        {% if site.data.ui-text[site.locale].meta_label %}
          <h4 class="page__meta-title">{{ site.data.ui-text[site.locale].meta_label }}</h4>
        {% endif %}
        {% include page__date.html %}
      </footer>
  </section>
  <aside class="page__nav">
    {% if page.share %}{% include social-share.html %}{% endif %}
    {% include post_pagination.html %}
  </aside>

  {% if jekyll.environment == 'production' and site.comments.provider and page.comments %}
  <section>
    {% include comments.html %}
  </section>
  {% endif %}

  {% comment %}
    {% include page_related.html %}
  {% endcomment %}
</div>

<script>
window.onload = function(){
  expenditem();
  online_title();

  //공유하기 버튼 클릭시 나타내기
  let btnShare = document.getElementsByClassName("page__share")[0];
  btnShare.addEventListener('click', function(){
    this.children[1].classList.toggle("show");
  });
}

//특정 위치에서 페이지 네비게이션 나타내고, 작업목록으로 가는 메뉴추가
let pageNav = document.getElementsByClassName("page__nav")[0];
let gnb = document.querySelector("#site-nav > ul");
let menuWorklist = gnb.children[0];
let chpoint = document.getElementsByClassName("initial-content")[0].getElementsByTagName("header")[0].offsetHeight;

window.onscroll = function(){
  let y =  Math.floor(window.scrollY || document.documentElement.scrollTop);
  
  if( y > chpoint / 2 ){
    pageNav.classList.add("on");
    pageNav.querySelector(".pagination ul").append(menuWorklist);
  }else{
    pageNav.classList.remove("on");
    gnb.prepend(menuWorklist);
  }
}

//페이지 네비게이션 두줄 제목 한줄 처리하기 
function online_title(){
  let navTtitle = pageNav.querySelector(".pagination a > span");
  let newTxt = editTxt(navTtitle.innerHTML);
  navTtitle.innerHTML = newTxt;
}

function editTxt(txt){
  txt = txt.replace(/<br>/ig, "");
  return txt;
} 

//pop클래스를 가진 요소에게 팝업이벤트가 일어나는 버튼추가
function expenditem(){
  let seletpop = document.getElementsByClassName("pop");
  Array.from(seletpop).forEach( e =>{
    e.append(create_btn("<i class='fas fa-expand-alt'></i> 여기를 클릭하여 크게보기", pop_up));
  });
}

function create_btn(txt, fx){
  let btn = document.createElement("button");
  btn.innerHTML = txt; 
  btn.addEventListener('click', fx);
  return btn
}

let ck_popup = 0;

function pop_up(){
  let poplayer = document.createElement("div");
  poplayer.className= "poplayer";
  poplayer.append(create_btn("닫기", pop_close));
  poplayer.prepend(this.parentNode.children[0].cloneNode());
  document.body.appendChild(poplayer);
  document.body.classList.add("block_scroll");
}

function pop_close(){
  this.parentNode.remove();
  document.body.classList.remove("block_scroll");
}

</script>