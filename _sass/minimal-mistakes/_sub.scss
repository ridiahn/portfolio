
.layout--single{
  .page__hero {
    position: relative;
    margin-bottom: 2em;
    width: 100%;

    &--overlay {
      width: 100%;
      min-height: 80vh;
      position: relative;
      margin-bottom: 2em;
      background-size: 600px auto, 50%;
      background-repeat: no-repeat;
      background-position: right 10% center , right;

      .wrapper {
        width: 100%;
        padding-left: 1em;
        padding-right: 1em;
        margin: 0;
        display: flex;
        flex-direction: column;

        @include breakpoint($medium) {
          padding-left: 36px;
          padding-right: 36px;
        }
      }

      .page__title {
        order: 2;
        margin-top: -0.1em;
        display: block;
        position: relative;
        top: unset;
        font-size: $h-size-4;
        margin-bottom: $m-54;
        width: 50%;
  
        @include breakpoint($medium) {
          font-size: 7vw;
          font-weight: 600;
          line-height: 1;
        }
      }
      
      .page__taxonomy{
        order: 1;
        font-size: 7vw;
        line-height: 1;
        width: 100%;
        font-family: $serif;
        color: $light-gray;
        letter-spacing: -0.1em;
      }
  
      .page__lead{
        order: 0;
        font-size: 1rem;
        font-weight: 500;
        height: 25vh;
        
        p{
          width: 25%;
        }
      }
  
      .work__meta{
        order: 3;
        display: inline-flex;
        column-gap: 64px;
        p,
        > div{
          margin-bottom: 0;
          line-height: 1;

          strong{
            font-size: .9rem;
          }

          :not(strong){
            display: block;
          }
        }
  
        i{
          display: none;
        }

        .work_date{
          font-size: 7vw;
          position: absolute;
          right: 36px;
          bottom: 36px;
          text-align: right;
          mix-blend-mode: difference;
          
          time:nth-of-type(2),
          span{
            display: inline;
          }

          strong{
          visibility: hidden;
          position: absolute;
          }
        }
      }

      .tools{
        ul{ 
          margin: 0;
          display: inline-block;
        }
        
        ul li{
          position: relative;
          align-items: center;
          text-transform: uppercase;
          line-height: 1.2;
          margin: 0;    
        }
      }
      
    }
  }

  #main{
    min-height: 100vh;
    display: flex;
    flex-wrap: wrap;
  }
  
  main{
    position: relative;
  }

  .page__content{
    letter-spacing: -0.015em;
    order: 2;
    flex: 1;
    max-width: 75%;
    padding-right: 36px;
    font-size: 1.1rem;

    > *{
      width: calc((100% / 3) * 2);
    }

    > p:first-of-type{
      width: 100%;
      letter-spacing: -0.02em;
      word-spacing: .15em;
      font-size: 1.5rem;
      font-weight: 500;
      text-indent: 25vw;

      color: black;
    }
    
    h3{
      font-size: 1rem;
      margin-bottom: 5vh;
      &:not(:first-of-type){
        //margin-top: 15vh;
      }
    }

    > ol,
    > ul{
      li{
        width: 50%;
        padding-left: 1em;
        //margin-left: 50%;
        margin-bottom: 5vh;
        font-weight: 500;
        list-style: decimal;
        list-style-position: outside;

        &::marker{
          display: block;
        }
      }
    }

    h4{
      width: 25%;
    }
  }

//width options
.w-100{
  width: $page-width100;
  max-width: $page-width100;
  margin-left: -25vw;
  padding: 0 36px;
}

.code_thumbs{
  width: 100%;
  display: flex;
  flex-wrap: wrap;

  h3{
    align-self: flex-start;
    width: 100%;
  }

  table{
    order: 2;
    width: 60%;
  }

  ul{
    order: 0;
    width: calc((100% / 3) * 1);
    font-size: 1rem;
    margin: 0;
  }

  p:has(time){
    margin: 0;
    width: 25%;
    font-size: 1rem;

    strong{
      display: block;
      font-size: 0.9rem;
    }
  }


  figure{
    align-self: flex-end;
    order: 1;
    width: 40%;
    max-height: 60vh;
    overflow: hidden;
    text-align: right;
    margin-top: 15vh;
    img{
      width: 80%;
    }
  }
}

//gallery layout
  .gallery_row{
    display: flex;
    flex-wrap: wrap;
    column-gap: 100px;
    justify-content: space-between;

    figcaption{
      order: 0;
      width: 100%;
    }

    img{
      display: inline-block;
      order: 1;
      object-fit: cover;
      object-position: top;
      width: 10vw;
      max-height: 25vh;

      // &:nth-of-type(odd){
      //   max-height: 30vh;
      // }
    }
  }

  .gallery_ver{
    width: 25%;
    clear: unset;
    //top: 100px;
    top: unset;
    bottom: 36px;
    left: 0;
    height: fit-content;
    display: inline-block;

    img{
      display: block;
      width: 6vw;
      height: 6vw;
      object-fit: cover;
      object-position: top;
    }
  }


  aside.sidebar__right{
    order: 1;
    align-self: flex-start;
    width: 25%;
    padding-left: 36px;
    left: 0;
    top:0;
    margin: 0;

  }

  .page__meta{
    order: 0;
  }
}

.pop{
  position: relative;
}

.pop > button{
  position: absolute;
  right: 1rem;
  top: calc( 460px - 46px + 1rem );
  font-size: 0;
  width: 46px;
  height: 46px;
  border-radius: 46px;
  box-sizing: border-box;
  border: solid 1px rgba(white, 0.5);

  i{
    font-size: $type-size-1;
    color: $muted-text-color;
  }
}

.pop:hover{
  img{
    box-shadow: 0 5px 15px rgba(#000, 0.2);
  }

  button{
    overflow-x: hidden;
    white-space: nowrap;
    font-size: $type-size-3;
    box-shadow: 0 2px 15px rgba(#000, 0.1);
    width: 220px;
    padding: 0 1rem;
    transition: width 0.5s;

    i{
      font-size: $type-size-2;
      margin-right: 0.25rem;
    }
  }
}

.poplayer{
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  padding: 2rem 0;
  background-color: rgba(#000, 0.5);
  overflow: scroll;
  z-index: 2;
}

.poplayer >*:not(button){
  max-width: 60%;
  height: auto;
  display: block;
  margin: 2rem auto;
}

.poplayer button{
  position: fixed;
  top: 0.5rem;
  right: 2rem;
  font-weight: lighter;
  mix-blend-mode: difference;
  color: #fff;
  font-size: 0;
  
  &::before{
    content: "Ã—";
    font-size: 46px;
    margin-right: 0.5rem;
  }
}

.block_scroll{
  overflow: hidden;
  width: 100%;
  height: 100%;
}

.h_th{
  width: calc( 100vw - 4rem ) !important;
  margin-left: -50%;
  overflow-x: scroll;
  scrollbar-width: thin;
  scrollbar-color: rgba(#000, 0.1) transparent;

  &::-webkit-scrollbar {
    height: 8px;
  }

  &::-webkit-scrollbar-track {
    background-color: transparent;
  }

  &::-webkit-scrollbar-thumb {
    border-radius: 20px;
    background-color: rgba(#000, 0.1);
  }

  &::-webkit-scrollbar-button {
    display: none; 
  }
  
  figure.thumb{
    width: 300px;
  }

  img{
    max-width: 600px !important;
    display: block;
  }

  div{
    margin: auto;
    >*{
      margin-right: 1rem;
      float: left;
    }
  }
}
